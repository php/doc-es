<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 52e9e3d19103427047f49d2a5f84a3e8c716fffe Maintainer: chuso Status: ready -->
<appendix xml:id="wrappers" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>Lista de Protocolos/Envolturas Soportados</title>
 <para>
  PHP viene de serie con muchas envolturas para protocolos tipo URL
  con las que usar funciones del sistema de ficheros como <function>fopen</function> 
  o <function>copy</function>. Además de estas envolturas, desde PHP 4.3.0 cualquiera
  puede escribir las suyas propias utilizando la función <function>stream_wrapper_register</function>.
 </para>
  <note>
   <simpara>La sintaxis de URL que se usa para describir una envoltura sólo acepta
    la sintaxis esquema://...
    Por contrs, no hay soporte ni para las sintaxis esquema:/ ni para esquema:.
   </simpara>
  </note>
 <para>
  En el capítulo <xref linkend="context"/>puede consultarse una lista de las opciones disponibles.
 </para>

 <section xml:id="wrappers.file">
  <title>Sistema de ficheros</title>
  <simpara>Todas las versiones de PHP. Desde PHP 5.0.0 usando <filename>file://</filename></simpara>

  <itemizedlist>
   <listitem><simpara><filename>/ruta/al/fichero.ext</filename></simpara></listitem>
   <listitem><simpara><filename>ruta/relativa/al/fichero.ext</filename></simpara></listitem>
   <listitem><simpara><filename>ficheroEnDta.ext</filename></simpara></listitem>
   <listitem><simpara><filename>C:/ruta/a/ficherowindows.ext</filename></simpara></listitem>
   <listitem><simpara><filename>C:\ruta\a\ficherowindows.ext</filename></simpara></listitem>
   <listitem><simpara><filename>\\servidorsmb\ruta\compartida\a\ficherowindows.ext</filename></simpara></listitem>
   <listitem><simpara><filename>file:///ruta/al/fichero.ext</filename></simpara></listitem>
  </itemizedlist>

  <simpara>
   El <emphasis>Sistema de Ficheros</emphasis> es la envoltura por omisión de PHP y representa al
   sistema de ficheros local. Cuando se proporciona una ruta relativa (esto es, no comienza con
   /, \, \\, ni con la letra de un dispositivo Windows) ésta se hará usando el directorio de trabajo
   actual. En muchos casos, se trata del directorio en el que se aloja el script, a no ser que se
   haya cambiado explicitamente. Si se utiliza la sapi CLI, apuntará al directorio desde el que se ejecutó el script.
  </simpara>

  <simpara>
   En algunas funciones, como por ejemplo <function>fopen</function> o
   <function>file_get_contents</function>, puede usarse también <literal>include_path</literal>
   para localizar ficheros con rutas relativas.
  </simpara>

  <para>
   <table>
    <title>Resumen de la Envoltura</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Permitido</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-fopen">allow_url_fopen</link></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lecturas</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Escrituras</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Añadir contenidos</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Lecturas y Escrituras Simultáneas</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>stat</function></entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>unlink</function></entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rename</function></entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>mkdir</function></entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rmdir</function></entry>
       <entry>Sí</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>

 <!-- FIXME PHP_6 Mentioned PHP 6, but let's explore not hard coding PHP versions like this -->
 <section xml:id="wrappers.http">
  <title>HTTP y HTTPS</title>
   <simpara>PHP 4, PHP 5. <filename>https://</filename> disponible desde PHP 4.3.0</simpara>

  <itemizedlist>
   <listitem><simpara><filename>http://ejemplo.com</filename></simpara></listitem>
   <listitem><simpara><filename>http://ejemplo.com/fichero.php?var1=val1&amp;var2=val2</filename></simpara></listitem>
   <listitem><simpara><filename>http://usuario:contraseña@ejemplo.com</filename></simpara></listitem>
   <listitem><simpara><filename>https://ejemplo.com</filename></simpara></listitem>
   <listitem><simpara><filename>https://ejemplo.com/fichero.php?var1=val1&amp;var2=val2</filename></simpara></listitem>
   <listitem><simpara><filename>https://usuario:contraseña@ejemplo.com</filename></simpara></listitem>
  </itemizedlist>

  <simpara>Permite acceso de lectura a ficheros/recursos mediante HTTP 1.0,
   utilizando el método GET de HTTP. Junto con la petición, se envía una cabecera
   <literal>Host:</literal> para así poder usar hosts virtuales basados en nombres. Si se ha definido
   un <link linkend="ini.user-agent">user_agent</link> en el fichero
   &php.ini; o en el contexto del flujo, éste se incluirá también en la
   petición.
  </simpara>
  &warn.ssl-non-standard;
  <simpara>
   Desde PHP 4.0.5 hay soporte para redirecciones; si se está utilizando
   una versión anterior, será necesario añadir las barras finales en las
   URLs. Si se necesitara conocer la URL de la que procede un determinado
   recurso (una vez que se han procesado todas las redirecciones),
   se tendrán que procesar todas las cabeceras de la respuesta que ha devuelto
   el flujo.
  </simpara>
  <informalexample>
   <programlisting role="php">
<![CDATA[
<?php
$url = 'http://www.example.com/redirecting_page.php';

$fp = fopen($url, 'r');

/* Antes de PHP 4.3.0 debía usarse $http_response_header
   en lugar de stream_get_meta_data() */
$meta_data = stream_get_meta_data($fp);
foreach($meta_data['wrapper_data'] as $response) {

  /* ¿Dónde se ha redirigido? */
  if (substr(strtolower($response), 0, 10) == 'location: ') {
    /* actualizar la $url a la que nos han redirigido */
    $url = substr($response, 18);
  }

}

?>
]]>
   </programlisting>
  </informalexample>
  <simpara>
   El flujo proporciona acceso al <emphasis>cuerpo</emphasis> del
   recurso; las cabeceras se guardan en la variable
   <varname>$http_response_header</varname>.
   Desde PHP 4.3.0, las cabeceras están disponibles mediante la función
   <function>stream_get_meta_data</function>.
  </simpara>
  <simpara>
   Las conexiones HTTP son sólo de lecturas; no se puede ni escribir datos
   ni copiar ficheros en un recurso HTTP.
  </simpara>
  <note>
   <simpara>Desde PHP 4.3.0 hay soporte para HTTPS, siempre y cuando se haya
    compilado con soporte para OpenSSL.
   </simpara>
  </note>
  <simpara>
   Si se ha definido la directiva <link linkend="ini.from">from</link> de
   &php.ini;, pero no se ha establecido la cabecera <literal>From:</literal>
   en el <xref linkend="context" />, se utilizará este valor en
   la cabecera <literal>From:</literal> de la petición HTTP.
  </simpara>
  <para>
   <table>
    <title>Resumen de la Envoltura</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Permitido</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-fopen">allow_url_fopen</link></entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Lecturas</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Escrituras</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Añadir contenidos</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lecturas y Escrituras Simultáneas</entry>
       <entry>N/A</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>stat</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>unlink</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rename</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>mkdir</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rmdir</function></entry>
       <entry>No</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>

  <para>
   Si se usa una versión anterior a la 5, pueden enviarse las cabeceras deseadas
   en una petición HTTP aprovechando un efecto colateral de la
   directiva INI <literal>user_agent</literal>. Establezca un string
   válido en <literal>user_agent</literal> (como el valor por omisión de
   <literal>PHP/versión</literal>) seguido de un par
   retorno de carro/salto de línea y cualquier otra cabecera adicional.
   Este método funciona en PHP 4 o superior.
  </para>
  <para>
   <example>
    <title>Enviando cabeceras personalizadas en una petición HTTP</title>
    <programlisting role="php">
<![CDATA[
<?php
ini_set('user_agent', "PHP\r\nX-MyCustomHeader: Foo");

$fp = fopen('http://www.example.com/index.php', 'r');
?>
]]>
    </programlisting>
    <para>Como resultado se envía la siguiente cabera:</para>
    <screen>
<![CDATA[
GET /index.php HTTP/1.0
Host: www.example.com
User-Agent: PHP
X-MyCustomHeader: Foo
]]>
    </screen>
   </example>
  </para>
 </section>

 <!-- FIXME PHP_6 Mentioned PHP 6, but let's explore not hard coding PHP versions like this -->
 <section xml:id="wrappers.ftp">
  <title>FTP y FTPS</title>
  <simpara>PHP 4, PHP 5.  <filename>ftps://</filename> disponible desde PHP 4.3.0</simpara>

  <itemizedlist>
   <listitem><simpara><filename>ftp://ejemplo.com/pub/fichero.txt</filename></simpara></listitem>
   <listitem><simpara><filename>ftp://usuario:contraseña@example.com/pub/fichero.txt</filename></simpara></listitem>
   <listitem><simpara><filename>ftps://ejemplo.com/pub/fichero.txt</filename></simpara></listitem>
   <listitem><simpara><filename>ftps://usuario:contraseña@ejemplo.com/pub/fichero.txt</filename></simpara></listitem>
  </itemizedlist>

  <simpara>
   Permite tanto lectura de ficheros existentes como la creación de nuevos ficheros
   vía FTP. La conexión fallará si el servidor no soporta FTP en modo pasivo.
  </simpara>
  <simpara>
   Se puede tanto leer como escribir ficheros, pero no las dos cosas
   simultáneamente. Si el fichero remoto ya existiera en el servidor ftp,
   y se quisiera abrir en modo escritura sin especificar la opción
   de contexto <literal>overwrite</literal>, también fallará la conexión.
   Si fuera necesario sobrescribir un fichero ya existente en ftp,
   se tendrá que especificar la opción de contexto <literal>overwrite</literal>
   antes de abrir el fichero para su escritura. Alternativamente, puede
   usarse la <link linkend="ref.ftp">extensión FTP</link>.
  </simpara>
  <note>
   <title>Añadiendo contenido</title>
   <simpara>
    Desde PHP 5.0.0 se puede añadir contenido a los ficheros mediante la
    envoltura de URL <literal>ftp://</literal>. Si se tratara de añadir contenido a un
    fichero con <literal>ftp://</literal> en versiones anteriores, se provocaría un fallo.
   </simpara>
  </note>
  <simpara>
   En PHP 4.3.0 se introdujo soporte para <filename>ftps://</filename>.
   Es lo mismo que <filename>ftp://</filename>,
   solo que trata de establecer una conexión segura con el servidor ftp.
   Si el servidor no tuviera soporte para SSL, entonces se utilizaría
   una conexión regular ftp sin encriptación.
  </simpara>
  <note>
   <simpara>Hay soporte para FTPS desde PHP 4.3.0, siempre y cuando se
    haya compilado con soporte para OpenSSL.
   </simpara>
  </note>
  <simpara>
   Si se ha establecido la directiva <link linkend="ini.from">from</link>
   en &php.ini;, se enviará como contraseña para conexiones de FTP anónimo.
  </simpara>
  <para>
   <table>
    <title>Resumen de la Envoltura</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>Atributos</entry>
       <entry>PHP 4</entry>
       <entry>PHP 5</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-fopen">allow_url_fopen</link></entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Lecturas</entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Escrituras</entry>
       <entry>Sí (sólo en ficheros nuevos)</entry>
       <entry>Sí (ficheros nuevos. En los existentes con <parameter>overwrite</parameter>)</entry>
      </row>
      <row>
       <entry>Permite Añadir contenidos</entry>
       <entry>No</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Lecturas y Escrituras Simultáneas</entry>
       <entry>No</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>stat</function></entry>
       <entry>No</entry>
       <entry>
        Desde PHP 5.0.0: sólo los elementos <function>filesize</function>,
        <function>filetype</function>, <function>file_exists</function>,
        <function>is_file</function>, y <function>is_dir</function>.
        Desde PHP 5.1.0: <function>filemtime</function>.
       </entry>
      </row>
      <row>
       <entry>Permite usar la función <function>unlink</function></entry>
       <entry>No</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rename</function></entry>
       <entry>No</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>mkdir</function></entry>
       <entry>No</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rmdir</function></entry>
       <entry>No</entry>
       <entry>Sí</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>

 <section xml:id="wrappers.php">
  <title>Flujos de entrada/salida de PHP</title>

  <itemizedlist>
   <listitem><simpara><filename>php://stdin</filename></simpara></listitem>
   <listitem><simpara><filename>php://stdout</filename></simpara></listitem>
   <listitem><simpara><filename>php://stderr</filename></simpara></listitem>
   <listitem><simpara><filename>php://output</filename></simpara></listitem>
   <listitem><simpara><filename>php://input</filename></simpara></listitem>
   <listitem><simpara><filename>php://filter</filename> (disponible desde PHP 5.0.0)</simpara></listitem>
   <listitem><simpara><filename>php://memory</filename> (disponible desde PHP 5.1.0)</simpara></listitem>
   <listitem><simpara><filename>php://temp</filename> (disponible desde PHP 5.1.0)</simpara></listitem>
  </itemizedlist>

  <simpara>
   <filename>php://stdin</filename>, <filename>php://stdout</filename>
   y <filename>php://stderr</filename> permiten acceder directamente al
   flujo correspondiente de entrada o salida del proceso PHP. El flujo
   hace referencia a un descriptor de fichero duplicado, de modo que si se abre
   <filename>php://stdin</filename> y más tarde se cierra, sólo se cerraría
   la copia del descriptor--el flujo real al que referencia
   <constant>STDIN</constant> no se vería afectado. Tenga en cuenta que en
   versiones de PHP anteriores a la 5.2.1, se presenta un comportamiento irregular.
   Se recomienda utilizar las constantes <constant>STDIN</constant>,
   <constant>STDOUT</constant> y <constant>STDERR</constant> en lugar de
   abrir flujos manualmente usando estas envolturas.
  </simpara>
  <simpara>
   <filename>php://output</filename> permite escribir en el buffer de salida
   de la misma manera que lo harían <function>print</function> y <function>echo</function>.
  </simpara>
  <simpara>
   <filename>php://input</filename> permite leer datos a partir del cuerpo
   solicitado. En el caso de peticiones POST, es preferible a
   <varname>$HTTP_RAW_POST_DATA</varname> ya que no depende de diretivas
   &php.ini; especiales. Sin embargo, cuando no se genera
   automáticamente <varname>$HTTP_RAW_POST_DATA</varname>,
   se trata de una alternativa que hace un uso menos intensivo de memoria
   que activando <link linkend="ini.always-populate-raw-post-data">always_populate_raw_post_data</link>.
   <filename>php://input</filename> no está disponible con
   <literal>enctype="multipart/form-data"</literal>.
  </simpara>
  <note>
   <simpara>
    Los flujos que se abren con <filename>php://input</filename> sólo pueden leerse
    una vez; no hay soporte para operaciones de búsqueda. Pero, dependiendo
    de la SAPI, podría ser posible abrir otro flujo
    <filename>php://input</filename> para reiniciar la lectura. Esto
    sólo es posible si los datos de la petición se han guardado. Este caso es típico
    en peticiones POST, pero no en otros métodos de petición, como por ejemplo
    PUT o PROPFIND.
   </simpara>
  </note>
  <simpara>
   <filename>php://stdin</filename> y
   <filename>php://input</filename> son de solo lectura, mientras que
   <filename>php://stdout</filename>,
   <filename>php://stderr</filename> y
   <filename>php://output</filename> son de sólo escritura.
  </simpara>

  <simpara>
   <filename>php://filter</filename> es una especie de meta-envoltura diseñada
   para permitir el filtrado de flujos en las aperturas.
   Esto es muy útil en las funciones todo en uno, como
   <function>readfile</function>, <function>file</function>, y
   <function>file_get_contents</function> donde, por otra parte,
   no se pueden aplicar filtros a los flujos antes de que se lea
   su contenido.
  </simpara>
  <simpara>
   <filename>php://filter</filename> tiene los siguientes 'parámetros'
   incorporados en su 'ruta'.
  </simpara>
  <itemizedlist>
   <listitem>
    <para>
     <literal>/resource=&lt;flujo a filtrar&gt;</literal>
     (<emphasis>obligatorio</emphasis>) Este parámetro tiene que ubicarse
     al final de la especificación de <filename>php://filter</filename> y
     tiene que apuntar al flujo que se desea filtrar.
     <informalexample>
      <programlisting role="php">
<![CDATA[
<?php
/* Esto es equivalente a:
   readfile("http://www.example.com");
   dado que no se especifica ningún filtro */

readfile("php://filter/resource=http://www.example.com");
?>
]]>
      </programlisting>
     </informalexample>
    </para>
   </listitem>
   <listitem>
    <para>
     <literal>/read=&lt;lista de filtros de lectura para aplicar en cadena&gt;</literal>
     (<emphasis>opcional</emphasis>)  Este parámetro contiene uno o más
     nombres de filtros separados por el caracter <literal>|</literal>.
     <informalexample>
      <programlisting role="php">
<![CDATA[
<?php
/* Devolverá el contenido de
   www.example.com en mayúsculas */
readfile("php://filter/read=string.toupper/resource=http://www.example.com");

/* Hará lo mismo que el ejemplo de arriba
   pero además lo codificará en ROT13 */
readfile("php://filter/read=string.toupper|string.rot13/resource=http://www.example.com");
?>
]]>
      </programlisting>
     </informalexample>
    </para>
   </listitem>
   <listitem>
    <para>
     <literal>/write=&lt;lista de filtros de escritura para aplicar en cadena&gt;</literal>
     (<emphasis>opcional</emphasis>)  Este parámetro contiene uno o más
     nombres de filtros separados por el caracter <literal>|</literal>.
     <informalexample>
      <programlisting role="php">
<![CDATA[
<?php
/* Filtrará el string "Hello World" con
   el filtro rot13, y después lo escribirá en
   example.txt dentro del directorio actual */
file_put_contents("php://filter/write=string.rot13/resource=example.txt","Hello World");
?>
]]>
      </programlisting>
     </informalexample>
    </para>
   </listitem>
   <listitem>
    <simpara>
     <literal>/&lt;lista de filtros para aplicar en ambas direcciones&gt;</literal>
     (<emphasis>opcional</emphasis>)  Todos los filtros que no estén presentes
     ni en <literal>read=</literal> ni en <literal>write=</literal>
     se aplicarán tanto en las lecturas como en las escrituras.
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara>
   La envoltura <filename>php://memory</filename> almacena los datos
   en memoria. <filename>php://temp</filename> se comporta de una forma parecida, pero en
   su lugar, utiliza un fichero temporal para almacenar los datos una vez que
   se supera un determinado umbral de memoria (por omisión es 2 MB).
  </simpara>
  <simpara>
   La envoltura <filename>php://temp</filename> acepta los siguientes
   'parámetros' como parte de su 'ruta':
  </simpara>
  <itemizedlist>
   <listitem>
    <para>
     <literal>/maxmemory:&lt;número de bytes&gt;</literal>
     (<emphasis>opcional</emphasis>). Permite cambiar el valor por omisión
     del límite de memoria (cuándo se mueven los datos a un fichero
     temporal).
     <informalexample>
      <programlisting role="php">
<![CDATA[
<?php
$fiveMBs = 5 * 1024 * 1024;
$fp = fopen("php://temp/maxmemory:$fiveMBs", 'r+');

fputs($fp, "hello\n");

// leemos lo que hemos escrito
rewind($fp);
echo stream_get_contents($fp);
?>
]]>
      </programlisting>
     </informalexample>
    </para>
   </listitem>
  </itemizedlist>

  <para>
   <table>
    <title>
     Resumen de la Envoltura (Para <literal>php://filter</literal>,
     consúltese el resumen de la envoltura que se filtra.)
    </title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Permitido</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-fopen">allow_url_fopen</link></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-include">allow_url_include</link></entry>
       <entry>
        solo <literal>php://input</literal>,
        <literal>php://stdin</literal>,
        <literal>php://memory</literal> y
        <literal>php://temp</literal>.
       </entry>
      </row>
      <row>
       <entry>Permite Lecturas</entry>
       <entry>
        solo <literal>php://stdin</literal>,
        <literal>php://input</literal>,
        <literal>php://memory</literal> y
        <literal>php://temp</literal>.
       </entry>
      </row>
      <row>
       <entry>Permite Escrituras</entry>
       <entry>
        solo <literal>php://stdout</literal>,
        <literal>php://stderr</literal>,
        <literal>php://output</literal>,
        <literal>php://memory</literal> y
        <literal>php://temp</literal>.
       </entry>
      </row>
      <row>
       <entry>Permite Añadir contenidos</entry>
       <entry>
        solo <literal>php://stdout</literal>,
        <literal>php://stderr</literal>,
        <literal>php://output</literal>,
        <literal>php://memory</literal> y
        <literal>php://temp</literal>. (Equivalente a escrituras)
       </entry>
      </row>
      <row>
       <entry>Permite Lecturas y Escrituras Simultáneas</entry>
       <entry>
        solo <literal>php://memory</literal> y
        <literal>php://temp</literal>.
       </entry>
      </row>
      <row>
       <entry>Permite usar la función <function>stat</function></entry>
       <entry>
        solo <literal>php://memory</literal> y
        <literal>php://temp</literal> .
       </entry>
      </row>
      <row>
       <entry>Permite usar la función <function>unlink</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rename</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>mkdir</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rmdir</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Supports <function>stream_select</function></entry>
       <entry>
        <literal>php://stdin</literal>, <literal>php://stdout</literal>, 
        <literal>php://stderr</literal> y <literal>php://temp</literal>.
       </entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>

 <section xml:id="wrappers.compression">
  <title>Flujos Compresores</title>
  <simpara><filename>zlib:</filename> PHP 4.0.4 - PHP 4.2.3 (sólo en sistemas con fopencookie)</simpara>
  <simpara><filename>compress.zlib://</filename> y <filename>compress.bzip2://</filename> PHP 4.3.0 y superior</simpara>

  <itemizedlist>
   <listitem><simpara><filename>zlib:</filename></simpara></listitem>
   <listitem><simpara><filename>compress.zlib://</filename></simpara></listitem>
   <listitem><simpara><filename>compress.bzip2://</filename></simpara></listitem>
  </itemizedlist>

  <simpara>
   <filename>zlib:</filename> funciona como <function>gzopen</function>, solo que usando
   el flujo, se puede utilizar con <function>fread</function> al igual que con otras
   funciones del sistema de ficheros. Esto quedó obsoleto en PHP 4.3.0 debido a la
   ambigüedad que surge con los nombres de fichero que contienen el caracter ':';
   en su lugar, debe usarse <filename>compress.zlib://</filename>.
  </simpara>

  <simpara>
   <filename>compress.zlib://</filename> y
   <filename>compress.bzip2://</filename> son equivalentes a
   <function>gzopen</function> y a <function>bzopen</function>
   respectivamente, y funcionan incluso en sistemas que no tienen
   soporte para fopencookie.
  </simpara>
  <para>
   <table>
    <title>Resumen de la Envoltura</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Permitido</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-fopen">allow_url_fopen</link></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lecturas</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Escrituras</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Añadir contenidos</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Lecturas y Escrituras Simultaneas</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>stat</function></entry>
       <entry>
        No, utilice la envoltura <literal>file://</literal> para
        consultar la información de un fichero.
       </entry>
      </row>
      <row>
       <entry>Permite usar la función <function>unlink</function></entry>
       <entry>
        No, utilice la envoltura <literal>file://</literal> para
        eliminar ficheros comprimidos.
       </entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rename</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>mkdir</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rmdir</function></entry>
       <entry>No</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
  <para>
   La <link linkend="book.zip">extensión ZIP</link> usa la envoltura <filename>zip:</filename>.
  </para>
 </section>

 <section xml:id="wrappers.data">
  <title>Data (RFC 2397)</title>
  <simpara>
   La envoltura del flujo <filename>data:</filename> (<link xlink:href="&url.rfc;2397">RFC
   2397</link>) está disponible desde PHP 5.2.0.
  </simpara>

  <example>
   <title>Mostrar contenidos de data://</title>
   <programlisting role="php">
<![CDATA[
<?php
// muestra "I love PHP"
echo file_get_contents('data://text/plain;base64,SSBsb3ZlIFBIUAo=');
?>
]]>
   </programlisting>
  </example>

  <example>
   <title>Obtener el Tipo de Medio</title>
   <programlisting role="php">
<![CDATA[
<?php
$fp   = fopen('data://text/plain;base64,', 'r');
$meta = stream_get_meta_data($fp);

// muestra "text/plain"
echo $meta['mediatype'];
?>
]]>
   </programlisting>
  </example>


  <para>
   <table>
    <title>Resumen de la Envoltura</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Permitido</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-fopen">allow_url_fopen</link></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-include">allow_url_include</link></entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Lecturas</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Escrituras</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Añadir contenido</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lectura y Escritura Simultanea</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>stat</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>unlink</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rename</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>mkdir</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rmdir</function></entry>
       <entry>No</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>

 <section xml:id="wrappers.glob">
  <title>Glob</title>
  <simpara>
   La envoltura del flujo <filename>glob:</filename> está disponible desde PHP 5.3.0.
  </simpara>

  <example>
   <title>Uso básico</title>
   <programlisting role="php">
<![CDATA[
<?php
// Recorrer todos los ficheros *.php del directorio ext/spl/examples/
// y mostrar sus nombres y tamaños
$it = new DirectoryIterator("glob://ext/spl/examples/*.php");
foreach($it as $f) {
    printf("%s: %.1FK\n", $f->getFilename(), $f->getSize()/1024);
}
?>
]]>
   </programlisting>
   <screen>
<![CDATA[
tree.php: 1.0K
findregex.php: 0.6K
findfile.php: 0.7K
dba_dump.php: 0.9K
nocvsdir.php: 1.1K
phar_from_dir.php: 1.0K
ini_groups.php: 0.9K
directorytree.php: 0.9K
dba_array.php: 1.1K
class_tree.php: 1.8K
]]>
   </screen>
  </example>

  <para>
   <table>
    <title>Resumen de la Envoltura</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Permitido</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-fopen">allow_url_fopen</link></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-include">allow_url_include</link></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lecturas</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Escrituras</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Añadir Contenidos</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lecturas y Escrituras Simultáneas</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>stat</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>unlink</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rename</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>mkdir</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rmdir</function></entry>
       <entry>No</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>


 <section xml:id="wrappers.phar">
  <title>Phar</title>
  <simpara>
   La envoltura de flujo <filename>phar://</filename> está disponible desde
   PHP 5.3.0. Para consultar una descripción detallada, revise
   <link linkend="phar.using.stream">envoltura del flujo Phar</link>.
  </simpara>

  <para>
   <table>
    <title>Resumen de la Envoltura</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Permitido</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-fopen">allow_url_fopen</link></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-include">allow_url_include</link></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lecturas</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Escrituras</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Añadir contenidos</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lectura y Escritura Simultanea</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>stat</function></entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>unlink</function></entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rename</function></entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>mkdir</function></entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rmdir</function></entry>
       <entry>Sí</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>


 <section xml:id="wrappers.ssh2">
  <title>Secure Shell 2</title>
  <simpara>
   <filename>ssh2.shell://</filename>
   <filename>ssh2.exec://</filename>
   <filename>ssh2.tunnel://</filename>
   <filename>ssh2.sftp://</filename>
   <filename>ssh2.scp://</filename>
   PHP 4.3.0 y superior (PECL)
  </simpara>

  <itemizedlist>
   <listitem><simpara><filename>ssh2.shell://usuario:contraseña@ejemplo.com:22/xterm</filename></simpara></listitem>
   <listitem><simpara><filename>ssh2.exec://usuario:contraseña@ejemplo.com:22/usr/local/bin/comando</filename></simpara></listitem>
   <listitem><simpara><filename>ssh2.tunnel://usuario:contraseña@ejemplo.com:22/192.168.0.1:14</filename></simpara></listitem>
   <listitem><simpara><filename>ssh2.sftp://usuario:contraseña@ejemplo.com:22/ruta/a/fichero</filename></simpara></listitem>
  </itemizedlist>

  <note>
   <title>Esta envoltura no está habilitada por omisión</title>
   <simpara>
    Para poder usarse la envoltura <filename>ssh2.*://</filename> debe instalarase
    la extensión <link xlink:href="&url.pecl.package;ssh2">SSH2</link>
    disponible en <link xlink:href="&url.pecl;">PECL</link>.
   </simpara>
  </note>

  <simpara>
   Además de permitir hacer un login tradicional en la URI, la envoltura ssh2
   también puede reutilizar las conexiones ya abiertas, proporcionando el recurso
   de conexión en el apartado host de la URL.
  </simpara>

  <example>
   <title>Abriendo un flujo a partir de una conexión activa</title>
   <programlisting role="php">
<![CDATA[
<?php
$session = ssh2_connect('example.com', 22);
ssh2_auth_pubkey_file($session, 'username', '/home/username/.ssh/id_rsa.pub',
                                            '/home/username/.ssh/id_rsa', 'secret');
$stream = fopen("ssh2.tunnel://$session/remote.example.com:1234", 'r');
?>
]]>
   </programlisting>
  </example>
  <para>
   <table>
    <title>Resumen de la Envoltura</title>
    <tgroup cols="6">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>ssh2.shell</entry>
       <entry>ssh2.exec</entry>
       <entry>ssh2.tunnel</entry>
       <entry>ssh2.sftp</entry>
       <entry>ssh2.scp</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-fopen">allow_url_fopen</link></entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Lecturas</entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Escrituras</entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Añadir contenidos</entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>Sí (cuando esté soportado por el servidor)</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lecturas y Escrituras Simultáneas</entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
       <entry>Sí</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>stat</function></entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>Sí</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>unlink</function></entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>Sí</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rename</function></entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>Sí</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>mkdir</function></entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>Sí</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rmdir</function></entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>No</entry>
       <entry>Sí</entry>
       <entry>No</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>

  <para>
   <table>
    <title>Opciones de contexto</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>Nombre</entry>
       <entry>Uso</entry>
       <entry>Valor por omisión</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry><literal>session</literal></entry>
       <entry>Recurso ssh2 preconectado a utilizar</entry>
       <entry/>
      </row>
      <row>
       <entry><literal>sftp</literal></entry>
       <entry>Recurso sftp preubicado a reutilizar</entry>
       <entry/>
      </row>
      <row>
       <entry><literal>methods</literal></entry>
       <entry>métodos a usar de entre Key exchange, hostkey, cipher, compression, y MAC</entry>
       <entry/>
      </row>
      <row>
       <entry><literal>callbacks</literal></entry>
       <entry></entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>username</literal></entry>
       <entry>Nombre de usuario con el que conectar</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>password</literal></entry>
       <entry>Contraseña a utilizar en autenticación con contraseña</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>pubkey_file</literal></entry>
       <entry>Nombre del fichero con la clave pública que se usará para autenticar</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>privkey_file</literal></entry>
       <entry>Nombre del fichero con la clave privada que se usará para autenticar</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>env</literal></entry>
       <entry>Array asociativo con las variables de entorno que se van a asignar</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>term</literal></entry>
       <entry>Tipo de emulación del terminal a solicitar cuando se asigne un pty (pseudo terminal)</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>term_width</literal></entry>
       <entry>Ancho del terminal solicitado cuando se asigne un pty</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>term_height</literal></entry>
       <entry>Altura del terminal solicitado cuando se asigne un pty</entry>
       <entry></entry>
      </row>
      <row>
       <entry><literal>term_units</literal></entry>
       <entry>Unidades a usar con term_width y con term_height</entry>
       <entry><constant>SSH2_TERM_UNIT_CHARS</constant></entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>


 </section>
 
  <section xml:id="wrappers.rar" xreflabel="rar:// wrapper">
  <title>Rar</title>
  <simpara>
   <filename>rar://</filename>
   Disponible desde PECL rar 3.0.0
  </simpara>

  <itemizedlist>
   <listitem><simpara><filename>rar://&lt;nombre de archivo con codificación url&gt;[*][#[&lt;nombre de entrada con codificación url&gt;]]</filename></simpara></listitem>
  </itemizedlist>

  <note>
   <title>Esta envoltura no está habilitada por omisión</title>
   <simpara>
    Para poder usar la envoltura <filename>rar://</filename>, debe instalarse la
    extensión <link xlink:href="&url.pecl.package;rar">rar</link>
    disponible en <link xlink:href="&url.pecl;">PECL</link>.
   </simpara>
  </note>

  <simpara>
   Esta envoltura se compone de una ruta al fichero RAR (relativa o absoluta) codificada como URL,
   un asterisco opcional (<literal>*</literal>), un signo de número opcional
   (<literal>#</literal>) y un nombre de entrada codificado como URL que también es opcional, tal como
   se almacena en el fichero. Cuando se especifique un nombre de entrada, será necesario también
   especificar un signo de número; además, se puede añadir al final del nombre una barra.
  </simpara>
  
  <simpara>
   Esta envoltura puede abrir tanto ficheros como directorios. Cuando se abre un directorio, el
   signo asterisco obliga a que los nombres de las entradas del directorio se devuelvan decodificados.
   Si no se especifica, se devolverán codificadas como URL – esto es así para permitir
   hacer un uso correcto de la envoltura con determinadas funcionalidades, como
   <type>RecursiveDirectoryIterator</type> cuando se está en presencia de nombres de
   ficheros que podrían parecen datos codificados como URL.
  </simpara>
  
  <simpara>
   Si no se proporciona ni un signo de número ni tampoco un número de entrada, se mostrará la raíz
   del fichero. La diferencia respecto a directorios convencionales es que el flujo
   no contendrá determinada información, tal como la fecha de modificación, dado que el directorio raíz
   no se almacena dentro el fichero comprimido en de una entrada individual.
   Para usar la envoltura con <type>RecursiveDirectoryIterator</type> es necesario
   que al acceder al raíz se incluya el signo de número en la URL, para que así
   las URLs de los nodos hijo se puedan construir correctamente.
  </simpara>

   <para>
    <example>
     <title>Recorriendo un archivo RAR</title>
     <programlisting role="php">
<![CDATA[
<?php

class MyRecDirIt extends RecursiveDirectoryIterator {
    function current() {
        return rawurldecode($this->getSubPathName()) .
            (is_dir(parent::current())?" [DIR]":"");
    }
}

$f = "rar://" . rawurlencode(dirname(__FILE__)) .
    DIRECTORY_SEPARATOR . 'dirs_and_extra_headers.rar#';

$it = new RecursiveTreeIterator(new MyRecDirIt($f));

foreach ($it as $s) {
    echo $s, "\n";
}
?>
]]>
     </programlisting>
      &example.outputs.similar;
      <screen>
<![CDATA[
|-allow_everyone_ni [DIR]
|-file1.txt
|-file2_אּ.txt
|-with_streams.txt
\-אּ [DIR]
  |-אּ\%2Fempty%2E [DIR]
  | \-אּ\%2Fempty%2E\file7.txt
  |-אּ\empty [DIR]
  |-אּ\file3.txt
  |-אּ\file4_אּ.txt
  \-אּ\אּ_2 [DIR]
    |-אּ\אּ_2\file5.txt
    \-אּ\אּ_2\file6_אּ.txt
]]>
     </screen>
    </example>
   </para>
   <para>
    <example>
     <title>Abriendo un fichero encriptado (encriptación de cabeceras)</title>
     <programlisting role="php">
<![CDATA[
<?php
$stream = fopen("rar://" .
    rawurlencode(dirname(__FILE__)) . DIRECTORY_SEPARATOR .
    'encrypted_headers.rar' . '#encfile1.txt', "r", false,
    stream_context_create(
        array(
            'rar' =>
                array(
                    'open_password' => 'samplepassword'
                )
            )
        )
    );
var_dump(stream_get_contents($stream));
/* ni la fecha de creación ni la de último acceso es obligatoria WinRAR,
 * por esa razón la mayoría de ficheros no lo tendrán */
var_dump(fstat($stream));
?>
]]>
     </programlisting>
      &example.outputs.similar;
      <screen>
<![CDATA[
string(26) "Contenido del fichero encriptado 1"
Array
(
    [0] => 0
    [1] => 0
    [2] => 33206
    [3] => 1
    [4] => 0
    [5] => 0
    [6] => 0
    [7] => 26
    [8] => 0
    [9] => 1259550052
    [10] => 0
    [11] => -1
    [12] => -1
    [dev] => 0
    [ino] => 0
    [mode] => 33206
    [nlink] => 1
    [uid] => 0
    [gid] => 0
    [rdev] => 0
    [size] => 26
    [atime] => 0
    [mtime] => 1259550052
    [ctime] => 0
    [blksize] => -1
    [blocks] => -1
)
]]>
     </screen>
    </example>
   </para>
   
  <para>
   <table>
    <title>Resumen de la Envoltura</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Permitido</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-fopen">allow_url_fopen</link></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-include">allow_url_include</link></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lecturas</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Escrituras</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Añadir contenido</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lecturas y Escrituras Simultáneas</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>stat</function></entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>unlink</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rename</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>mkdir</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rmdir</function></entry>
       <entry>No</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>

  <para>
   <table>
    <title>Opciones de contexto</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>Nombre</entry>
       <entry>Uso</entry>
       <entry>Valor por omisión</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry><literal>open_password</literal></entry>
       <entry>Si la hubiera, contraseña utilizada para encriptar las cabeceras del archivo.
        WinRAR encriptará todos los ficheros con la misma contraseña
        que la cabecera siempre que ésta esté presente, por lo que se ignorará
        <literal>file_password</literal> en archivos que contengan cabeceras encriptadas.
       </entry>
       <entry/>
      </row>
      <row>
       <entry><literal>file_password</literal></entry>
       <entry>Si la hubiera, contraseña utilizada para encriptar un fichero. Si las cabeceras
        estuvieran también encriptadas, se ignoraría esta opción en favor de
        <literal>open_password</literal>. El motivo por el que hay dos opciones
        es para así cubrir la posibilidad de que haya un archivo con contraseñas
        diferentes para la cabecera y los ficheros. Tenga en cuenta que si
        el archivo no tuviera sus cabeceras encriptadas,
        se ignoraría <literal>open_password</literal> y tendría que usarse en su
        lugar esta opción.
       </entry>
       <entry/>
      </row>
      <row>
       <entry><literal>volume_callback</literal></entry>
       <entry>Llamada de retorno que determina la ruta de las partes que no se hayan
        podido capturar. Para más información, revise <methodname>RarArchive::open</methodname>.
       </entry>
       <entry/>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>

 </section>


 <section xml:id="wrappers.audio">
  <title>Flujos de Audio</title>
  <simpara><filename>ogg://</filename> PHP 4.3.0 y superior (PECL) </simpara>

  <itemizedlist>
   <listitem><simpara><filename>ogg://soundfile.ogg</filename></simpara></listitem>
   <listitem><simpara><filename>ogg:///path/to/soundfile.ogg</filename></simpara></listitem>
   <listitem><simpara><filename>ogg://http://www.example.com/path/to/soundstream.ogg</filename></simpara></listitem>
  </itemizedlist>

  <note>
   <title>Esta envoltura no está habilitada por omisión</title>
   <simpara>
    Para usar la envoltura <filename>ogg://</filename> es necesario instalar
    la extensión <link xlink:href="&url.pecl.package;oggvorbis">OGG/Vorbis</link>
    disponible en <link xlink:href="&url.pecl;">PECL</link>.
   </simpara>
  </note>

  <simpara>
   Los ficheros que se abran para lectura usando la envoltura filename>ogg://</filename>
   se utilizan como codificaciones de audio comprimido usando el códec <literal>OGG/Vorbis</literal>.
   De forma similar, los ficheros abiertos para escritura o para añadir contenido usando
   la envoltura <filename>ogg://</filename> se escriben como datos de audio comprimidos.
   Cuando se use la función <function>stream_get_meta_data</function> con un fichero
   <literal>OGG/Vorbis</literal> abierto para lectura, se devolverán diversos detalles del
   flujo, incluyendo la etiqueta <parameter>vendor</parameter>, cualquier
   <parameter>comments</parameter> que se haya añadido, el número de 
   <parameter>canales</parameter>, el <parameter>ratio</parameter> de muestreo,
   y el rango del ratio de codificación descrito por:
   <parameter>bitrate_lower</parameter>, <parameter>bitrate_upper</parameter>,
   <parameter>bitrate_nominal</parameter>, y <parameter>bitrate_window</parameter>.
  </simpara>

  <para>
   <table>
    <title>Resumen de la Envoltura</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Permitido</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-fopen">allow_url_fopen</link></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Lecturas</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Escrituras</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Añadir contenido</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Lecturas y Escrituras Simultánea</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>stat</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>unlink</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rename</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>mkdir</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rmdir</function></entry>
       <entry>No</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
  <para>
   <table>
    <title>Opciones de contexto</title>
    <tgroup cols="3">
     <thead>
      <row>
       <entry>Nombre</entry>
       <entry>Uso</entry>
       <entry>Valor por defecto</entry>
       <entry>Modo</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry><literal>pcm_mode</literal></entry>
       <entry>
        codificación PCM que se aplicará en las lecturas, de entre:
        <constant>OGGVORBIS_PCM_U8</constant>, <constant>OGGVORBIS_PCM_S8</constant>,
        <constant>OGGVORBIS_PCM_U16_BE</constant>, <constant>OGGVORBIS_PCM_S16_BE</constant>,
        <constant>OGGVORBIS_PCM_U16_LE</constant>, y <constant>OGGVORBIS_PCM_S16_LE</constant>.
        (8 o 16 bit, con o sin signo, big o little <literal>endian</literal>)
       </entry>
       <entry>OGGVORBIS_PCM_S16_LE</entry>
       <entry>Lectura</entry>
      </row>
      <row>
       <entry><literal>rate</literal></entry>
       <entry>
        Ratio de muestreo en datos de entradas, expresado en Hz
       </entry>
       <entry>44100</entry>
       <entry>Escritura/Adición</entry>
      </row>
      <row>
       <entry><literal>bitrate</literal></entry>
       <entry>
        Si es un entero, definirá el bitrate fijo al que se codificará. (de 16000 a 131072)
        Si es un real, definirá la calidad del bitrate variable a usar. (de -1.0 a 1.0)
       </entry>
       <entry>128000</entry>
       <entry>Escritura/Adición</entry>
      </row>
      <row>
       <entry><literal>channels</literal></entry>
       <entry>
        Número de canales de audio a codificar, normalmente 1 (mono), o 2 (estéreo).
        Puede llegar a 16.
       </entry>
       <entry>2</entry>
       <entry>Escritura/Adición</entry>
      </row>
      <row>
       <entry><literal>comments</literal></entry>
       <entry>
        Array de strings a codificar en la cabecera de la pista.
       </entry>
       <entry/>
       <entry>Escritura/Adición</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>


 <section xml:id="wrappers.expect">
  <title>Flujos de Interacción de Procesos</title>
  <simpara><filename>expect://</filename> PHP 4.3.0 y superior (PECL) </simpara>

  <itemizedlist>
   <listitem><simpara><filename>expect://comando</filename></simpara></listitem>
  </itemizedlist>

  <note>
   <title>Esta envoltura no está habilitada por omisión</title>
   <simpara>
    Para poder usar la envoltura <filename>expect://</filename> se debe instalar
    la extensión <link xlink:href="&url.pecl.package;expect">Expect</link>
    disponible en <link xlink:href="&url.pecl;">PECL</link>.
   </simpara>
  </note>

  <simpara>
   Los flujos que se hayan abierto con la envoltura <filename>expect://</filename>, darán
   acceso a stdio, stdout y stderr (entrada, salida y errores estándar respectivamente)
   de los procesos, vía PTY.
  </simpara>

  <para>
   <table>
    <title>Resumen de la Envoltura</title>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>Atributo</entry>
       <entry>Permitido</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Restringido por <link linkend="ini.allow-url-fopen">allow_url_fopen</link></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permites Lecturas</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Escrituras</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite Añadir contenido</entry>
       <entry>Sí</entry>
      </row>
      <row>
       <entry>Permite Lecturas y Escrituras Simultáneas</entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>stat</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>unlink</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rename</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>mkdir</function></entry>
       <entry>No</entry>
      </row>
      <row>
       <entry>Permite usar la función <function>rmdir</function></entry>
       <entry>No</entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </para>
 </section>

</appendix>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
