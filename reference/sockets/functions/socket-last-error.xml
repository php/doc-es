<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 39f908546b68c408a0df21faec8d0f466452ee06 Maintainer: seros Status: ready -->
<!-- Reviewed: no Maintainer: andresdzphp -->
<refentry xmlns="http://docbook.org/ns/docbook" xml:id="function.socket-last-error">
 <refnamediv>
  <refname>socket_last_error</refname>
  <refpurpose>Devuelve el último error sobre un socket</refpurpose>
 </refnamediv>
 
 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>int</type><methodname>socket_last_error</methodname>
   <methodparam choice="opt"><type>resource</type><parameter>socket</parameter></methodparam>
  </methodsynopsis>
  <para>
   Si un recurso socket es pasado a esta función, devuelve el último error que
   ocurrió en este socket en particular. Si el recurso socket se
   omite, devuelve el código de error de la última función de socket que falló.
   El segundo es particularmente útil para funciones como
   <function>socket_create</function> que no devuelve un socket en caso
   de error y <function>socket_select</function> que puede fallar por razones
   no directamente vinculadas con un socket en particular. El código de error es apropiado para
   ser introducido en <function>socket_strerror</function>, que devuelve una cadena
   describiendo el código de error dado.
  </para>
   <para>
   Si no se hubiera producido ningún error, o el error se hubiera eliminado con
   <function>socket_clear_error</function>, la función devuelve <literal>0</literal>.
  </para>
 </refsect1>

 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>socket</parameter></term>
     <listitem>
      <para>
       Un recurso socket válido creado con <function>socket_create</function>.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>

 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Esta función devuelve un código de error de un socket.
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Un ejemplo de <function>socket_last_error</function></title>
    <programlisting role="php">
<![CDATA[
<?php
$socket = @socket_create(AF_INET, SOCK_STREAM, SOL_TCP);

if ($socket === false) {
    $errorcode = socket_last_error();
    $errormsg = socket_strerror($errorcode);
    
    die("No se pudo crear el socket: [$errorcode] $errormsg");
}
?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>

 <refsect1 role="notes">
  &reftitle.notes;
  <note>
   <para>
    <function>socket_last_error</function> no limpia el código de error, use
    <function>socket_clear_error</function> para este propósito.
   </para>
  </note>
 </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
