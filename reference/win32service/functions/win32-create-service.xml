<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: c5b7606c4989aaed4c300aff7110e076fe694319 Maintainer: seros Status: ready -->
<!-- Generated by xml_proto.php v2.3. Found in /scripts directory of phpdoc. -->
<refentry xml:id="function.win32-create-service" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>win32_create_service</refname>
  <refpurpose>Crea una nueva entrada de servicio en la base de datos del ACS</refpurpose>
 </refnamediv>
 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>mixed</type><methodname>win32_create_service</methodname>
   <methodparam><type>array</type><parameter>details</parameter></methodparam>
   <methodparam choice="opt"><type>string</type><parameter>machine</parameter></methodparam>
  </methodsynopsis>
 </refsect1>
 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>details</parameter></term>
     <listitem>
      <para>
       Una matriz con los detalles del servicio:
       <variablelist>
        <varlistentry>
         <term><parameter>service</parameter></term>
         <listitem>
          <para>
           El nombre corto del servicio. Éste es el nombre que se debe usar
           para controlar el servicio utilizando el comando <literal>net</literal>.
           El servicio debe ser único (dos servicios no pueden compartir el
           mismo nombre), y lo ideal sería evitar que el nombre contenga espacios.
          </para>
         </listitem>
        </varlistentry>
        <varlistentry>
         <term><parameter>display</parameter></term>
         <listitem>
          <para>El nombre para mostrar del servicio. Éste es el nombre que se verá
          en la Aplicación de Servicios.
          </para>
         </listitem>
        </varlistentry>
        <varlistentry>
         <term><parameter>user</parameter></term>
         <listitem>
          <para>
           El nombre de la cuenta de usuario bajo la cuál se quiere ejecutar el
           servicio. Si se omite, el servicio se ejecutará como la cuenta LocalSystem.
           Si se especifica el nombre de usuario, también se debe proporcionar una contraseña.
          </para>
         </listitem>
        </varlistentry>
        <varlistentry>
         <term><parameter>password</parameter></term>
         <listitem>
          <para>
           La contraseña que se corresponde con <parameter>user</parameter>.
          </para>
         </listitem>
        </varlistentry>
        <varlistentry>
         <term><parameter>path</parameter></term>
         <listitem>
          <para>
           La ruta completa de módulo ejecutable que será lanzado cuando
           el servicio es iniciado. Si se omite, se usará la ruta del proceso de
           PHP actual.
          </para>
         </listitem>
        </varlistentry>
        <varlistentry>
         <term><parameter>params</parameter></term>
         <listitem>
          <para>
           Parámetros de línea de comandos a pasar al servicio cuando se inicia.
           Si quiere ejecutar un script de PHP como un servicio, el primer
           parámetro debería ser la ruta completa del script de PHP que intenta
           ejecutar. Si el nombre del script o la ruta contiene espacios encierre la
           ruta completa del script PHP con <literal>"</literal>.
          </para>
         </listitem>
        </varlistentry>
        <varlistentry>
         <term><parameter>load_order</parameter></term>
         <listitem>
          <para>
           Controla el orden de carga. Ésto aún no está completamente soportado.
          </para>
         </listitem>
        </varlistentry>
        <varlistentry>
         <term><parameter>svc_type</parameter></term>
         <listitem>
          <para>
           Establece el tipo de servicio. Si se omite, el valor por defecto es
           <constant>WIN32_SERVICE_WIN32_OWN_PROCESS</constant>.
           No cambie esto a menos que sepa lo que está haciendo.
          </para>
         </listitem>
        </varlistentry>
        <varlistentry>
         <term><parameter>start_type</parameter></term>
         <listitem>
          <para>
           Especifica cómo debería iniciarse el servicio. Por defecto es
           <constant>WIN32_SERVICE_AUTO_START</constant> lo que significa que el
           servicio será lanzado cuando se encienda la máquina.
          </para>
         </listitem>
        </varlistentry>
        <varlistentry>
         <term><parameter>error_control</parameter></term>
         <listitem>
          <para>
           Informa al ACS qué debería hacer cuando detecta un problema con
           el servicio. Por defecto es
           <constant>WIN32_SERVER_ERROR_IGNORE</constant>. El cambio de este
           valor no está aún soportado completamente.
          </para>
         </listitem>
        </varlistentry>
       </variablelist>
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>machine</parameter></term>
     <listitem>
      <para>
       El nombre opcional de la máquina en la que quiere crear el servicio.
       Si se omite, se usará la máquina local.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>
 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Devuelve &true; si se tuvo éxito, de otro modo devuelve un código de error win32.
  </para>
 </refsect1>

 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Un ejemplo de <function>win32_create_service</function></title>
    <para>
     Crear un servicio con el nombre corto 'dummyphp'.
    <programlisting role="php">
<![CDATA[
<?php
$x = win32_create_service(array(
        'service' => 'dummyphp',
        'display' => 'ejemplo de servicio PHP',
        'params' => __FILE__ . ' run',
));
debug_zval_dump($x);
?>
]]>
     </programlisting>
    </para>
   </example>
  </para>
 </refsect1>


 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>win32_delete_service</function></member>
   </simplelist>
  </para>
 </refsect1>


</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
