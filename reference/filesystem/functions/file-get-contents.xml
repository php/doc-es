<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 821c5e40e7139c06c95e301f30394225efa6e9a3 Maintainer: seros Status: ready -->
<!-- Reviewed: yes Maintainer: seros -->
<refentry xmlns="http://docbook.org/ns/docbook" xml:id="function.file-get-contents">
 <refnamediv>
  <refname>file_get_contents</refname> 
  <refpurpose>Transmite un fichero entero a una cadena</refpurpose>
 </refnamediv>
 
 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>string</type><methodname>file_get_contents</methodname>
   <methodparam><type>string</type><parameter>filename</parameter></methodparam>
   <methodparam choice="opt"><type>bool</type><parameter>use_include_path</parameter><initializer>false</initializer></methodparam>
   <methodparam choice="opt"><type>resource</type><parameter>context</parameter></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>offset</parameter><initializer>-1</initializer></methodparam>
   <methodparam choice="opt"><type>int</type><parameter>maxlen</parameter></methodparam>
  </methodsynopsis>
  <para> 
   Esta función es similar a <function>file</function>, excepto que
   <function>file_get_contents</function> devuelve el fichero a un
   <type>string</type>, comenzando por el <parameter>offset</parameter> especificado
   hasta <parameter>maxlen</parameter> bytes. Si falla, 
   <function>file_get_contents</function> devolverá &false;.
  </para>
  <para>
   <function>file_get_contents</function> es la manera preferida de transmitir el
   contenido de un fichero a una cadena. Usa técnicas de mapeado de memoria, si
   está soportado por su sistema operativo, para mejorar el rendimiento.
  </para>
  <note>
   <para>
    Si se está abriendo un URI con caracteres especiales, tales como espacios,
    se necesita codificar el URI con <function>urlencode</function>.
   </para>
  </note>
 </refsect1>
 
 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>filename</parameter></term>
     <listitem>
      <para>
       Nombre del fichero a leer.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>use_include_path</parameter></term>
     <listitem>
      <note>
       <para>        
        A partir de PHP 5, <constant>FILE_USE_INCLUDE_PATH</constant> se puede usar
        para lanzar la búsqueda en
        <link linkend="ini.include-path">include_path</link>.
       </para>
      </note>
      <!-- FIXME PHP_6
      <para>
      El valor de <parameter>flags</parameter> puede ser cualquier combinación de
      las siguientes banderas (con algunas restricciones), unidas por el
      <link linkend="language.operators.bitwise">operador binario
      OR (|)</link>.
     </para>
      <para>
      <table>
      <title>Banderas disponibles</title>
      <tgroup cols="2">
      <thead>
      <row>
      <entry>Bandera</entry>
      <entry>Descripción</entry>
     </row>
     </thead>
      <tbody>
      <row>
      <entry>
      <constant>FILE_USE_INCLUDE_PATH</constant>
     </entry>
      <entry>
      Busca <parameter>filename</parameter> en el directorio incluido.
      Véase <link linkend="ini.include-path">include_path</link> para más
      información.
     </entry>
     </row>
      <row>
      <entry>
      <constant>FILE_TEXT</constant>
     </entry>
      <entry>
      A partir de PHP 6, la codificación predeterminada de los datos
      leídos es UTF-8. Se puede especificar una codificación diferente creando un
      contexto a medida o cambiando el predeterminado usando
      <function>stream_default_encoding</function>. Esta bandera no puede ser
      usada con <constant>FILE_BINARY</constant>.
     </entry>
     </row>
      <row>
      <entry>
      <constant>FILE_BINARY</constant>
     </entry>
      <entry>
      Con esta bandera, el fichero se lee en modo binario. Este es el ajuste
      predeterminado y no se puede usar con <constant>FILE_TEXT</constant>. 
     </entry>
     </row>
     </tbody>
     </tgroup>
     </table>
     </para>
      --> 
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>context</parameter></term>
     <listitem>
      <para>
       Un recurso de contexto válido creado con
       <function>stream_context_create</function>. Si no se necesita usar un
       contexto a medida, se puede saltar este parámetro usando &null;.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>offset</parameter></term>
     <listitem>
      <para>
       El índice donde comienza la lectura en el flujo original.
      </para>
      <para>
       La búsqueda de (<parameter>offset</parameter>) no está soportada con ficheros remotos.
       Intentar buscar un fichero no local puede funcionar con índices pequeños, pero
       es impredecible debido a que trabaja sobre el flujo almacenado en buffer.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><parameter>maxlen</parameter></term>
     <listitem>
      <para>
       La longitud máxima de los datos leídos. De manera predeterminada se lee hasta que
       se alcance el final del fichero. Observe que este parámetro se aplica al
       flujo procesado por los filtros.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>
 
 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   Esta función devuelve los datos leídos &return.falseforfailure;.
  </para>
  &return.falseproblem;
 </refsect1>
 
 <refsect1 role="errors">
  &reftitle.errors;
  <para>
   Se genera un error de nivel <constant>E_WARNING</constant> si <parameter>filename</parameter> no se pudo encontrar, <parameter>maxlength</parameter>
   es menor de cero, o si falla la búsqueda del <parameter>offset</parameter> especificado en el flujo.
  </para>
 </refsect1>
 
 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Obtiene y muestra el código fuente de la página de inicio de un sitio web</title>
    <programlisting role="php">
<![CDATA[
<?php
$página_inicio = file_get_contents('http://www.example.com/');
echo $página_inicio;
?>
]]>
    </programlisting>
   </example>
   <example>
    <title>Buscar dentro de include_path</title>
    <programlisting role="php">
<![CDATA[
<?php
// <= PHP 5
$fichero = file_get_contents('./gente.txt', true);
// > PHP 5
$fichero = file_get_contents('./gente.txt', FILE_USE_INCLUDE_PATH);
?>
]]>
    </programlisting>
   </example>
   <example>
    <title>Leer una sección de un fichero</title>
    <programlisting role="php">
<![CDATA[
<?php
// Leer 14 caracteres comenzando desde el carácter número 21
$sección = file_get_contents('./gente.txt', NULL, NULL, 20, 14);
var_dump($sección);
?>
]]>
    </programlisting>
    &example.outputs.similar;
    <screen>
<![CDATA[
string(14) "lle Bjori Ro" 
]]>
    </screen>
   </example>
   <example>
    <title>Usar contextos de flujo</title>
    <programlisting role="php">
<![CDATA[
<?php
// Crear un flujo
$opciones = array(
  'http'=>array(
    'method'=>"GET",
    'header'=>"Accept-language: en\r\n" .
              "Cookie: foo=bar\r\n"
  )
);

$contexto = stream_context_create($opciones);

// Abre el fichero usando las cabeceras HTTP establecidas arriba
$fichero = file_get_contents('http://www.example.com/', false, $contexto);
?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>
 
 <refsect1 role="changelog">
  &reftitle.changelog;
  <para>
   <informaltable>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>&Version;</entry>
       <entry>&Description;</entry>
      </row>
     </thead>
     <tbody>
      <!-- FIXME PHP_6
      <row>
      <entry>6.0.0</entry>
      <entry>
      El parámetro <parameter>use_include_path</parameter> se reemplazó por
      el parámetro <parameter>flags</parameter>.
     </entry>
     </row>
      -->
      <row>
       <entry>5.1.0</entry>
       <entry>
        Se añadieron los parámetros <parameter>offset</parameter> y
        <parameter>maxlen</parameter>.
       </entry>
      </row>
      <row>
       <entry>5.0.0</entry>
       <entry>
        Se añadió el soporte de contextos.
       </entry>
      </row>
     </tbody>
    </tgroup>
   </informaltable>
  </para>
 </refsect1>
 
 <refsect1 role="notes">
  &reftitle.notes;
  &note.bin-safe;
  &tip.fopen-wrapper;
  &warn.ssl-non-standard;
 </refsect1>
 
 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>file</function></member>
    <member><function>fgets</function></member>
    <member><function>fread</function></member>
    <member><function>readfile</function></member>
    <member><function>file_put_contents</function></member>
    <member><function>stream_get_contents</function></member>
    <member><function>stream_context_create</function></member>
    <member><link linkend="reserved.variables.httpresponseheader">$http_response_header</link></member>
   </simplelist>
  </para>
 </refsect1>
 
</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
